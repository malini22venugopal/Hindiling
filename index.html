<!DOCTYPE html>
<html lang="hi">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>‡§π‡§ø‡§Ç‡§¶‡•Ä ‡§ë‡§°‡§ø‡§Ø‡•ã ‡§ï‡•ç‡§µ‡§ø‡§ú‡§º ‚Äî ‡§≤‡§ø‡§Ç‡§ó & ‡§µ‡§ö‡§®</title>
<style>
body {
  font-family: 'Noto Sans Devanagari', sans-serif;
  background: #fff8f0;
  text-align: center;
  padding: 20px;
}
h1 { color: #d35400; }
button {
  font-size: 18px;
  margin: 10px;
  padding: 10px 20px;
  border: none;
  border-radius: 8px;
  background-color: #ffb84d;
  color: #000;
}
#questionBox {
  font-size: 26px;
  margin: 20px 0;
  color: #2c3e50;
}
#result {
  font-size: 22px;
  color: #e74c3c;
  margin: 10px 0;
}
#score {
  font-size: 22px;
  color: #27ae60;
  margin-top: 20px;
}
input {
  font-size: 20px;
  padding: 8px;
  width: 80%;
  text-align: center;
}
</style>
</head>
<body>
<h1>‡§π‡§ø‡§Ç‡§¶‡•Ä ‡§ë‡§°‡§ø‡§Ø‡•ã ‡§ï‡•ç‡§µ‡§ø‡§ú‡§º ‚Äî ‡§≤‡§ø‡§Ç‡§ó & ‡§µ‡§ö‡§®</h1>
<div id="questionBox">‡§∂‡•Å‡§∞‡•Ç ‡§ï‡§∞‡§®‡•á ‡§ï‡•á ‡§≤‡§ø‡§è ‡§®‡•Ä‡§ö‡•á ‡§ï‡•ç‡§≤‡§ø‡§ï ‡§ï‡§∞‡•á‡§Ç</div>
<input type="text" id="answerInput" placeholder="‡§â‡§§‡•ç‡§§‡§∞ ‡§¨‡•ã‡§≤‡•á‡§Ç ‡§Ø‡§æ ‡§≤‡§ø‡§ñ‡•á‡§Ç" disabled>
<br>
<button id="startBtn">‡§∂‡•Å‡§∞‡•Ç ‡§ï‡§∞‡•á‡§Ç</button>
<button id="speakBtn" disabled>üé§ ‡§¨‡•ã‡§≤‡•á‡§Ç</button>
<button id="passBtn" disabled>‡§™‡§æ‡§∏ ‡§ï‡§∞‡•á‡§Ç</button>
<button id="repeatBtn" disabled>‡§´‡§ø‡§∞ ‡§∏‡•Å‡§®‡•á‡§Ç</button>
<div id="result"></div>
<div id="score"></div>

<script>
const questions = [
  // ‡§≤‡§ø‡§Ç‡§ó (15)
  {q:"‡§≤‡§°‡§º‡§ï‡§æ ‡§ï‡§æ ‡§∏‡•ç‡§§‡•ç‡§∞‡•Ä‡§≤‡§ø‡§Ç‡§ó ‡§¨‡§§‡§æ‡§á‡§è", a:["‡§≤‡§°‡§º‡§ï‡•Ä"]},
  {q:"‡§∂‡•á‡§∞ ‡§ï‡§æ ‡§∏‡•ç‡§§‡•ç‡§∞‡•Ä‡§≤‡§ø‡§Ç‡§ó ‡§¨‡§§‡§æ‡§á‡§è", a:["‡§∂‡•á‡§∞‡§®‡•Ä"]},
  {q:"‡§ó‡§æ‡§Ø ‡§ï‡§æ ‡§™‡•Å‡§≤‡•ç‡§≤‡§ø‡§Ç‡§ó ‡§¨‡§§‡§æ‡§á‡§è", a:["‡§¨‡•à‡§≤"]},
  {q:"‡§™‡•Å‡§§‡•ç‡§∞ ‡§ï‡§æ ‡§∏‡•ç‡§§‡•ç‡§∞‡•Ä‡§≤‡§ø‡§Ç‡§ó ‡§¨‡§§‡§æ‡§á‡§è", a:["‡§™‡•Å‡§§‡•ç‡§∞‡•Ä"]},
  {q:"‡§™‡§§‡§ø ‡§ï‡§æ ‡§∏‡•ç‡§§‡•ç‡§∞‡•Ä‡§≤‡§ø‡§Ç‡§ó ‡§¨‡§§‡§æ‡§á‡§è", a:["‡§™‡§§‡•ç‡§®‡•Ä"]},
  {q:"‡§∞‡§æ‡§®‡•Ä ‡§ï‡§æ ‡§™‡•Å‡§≤‡•ç‡§≤‡§ø‡§Ç‡§ó ‡§¨‡§§‡§æ‡§á‡§è", a:["‡§∞‡§æ‡§ú‡§æ"]},
  {q:"‡§Æ‡§æ‡§≤‡•Ä ‡§ï‡§æ ‡§∏‡•ç‡§§‡•ç‡§∞‡•Ä‡§≤‡§ø‡§Ç‡§ó ‡§¨‡§§‡§æ‡§á‡§è", a:["‡§Æ‡§æ‡§≤‡§ø‡§®"]},
  {q:"‡§Æ‡•Å‡§∞‡§ó‡§æ ‡§ï‡§æ ‡§∏‡•ç‡§§‡•ç‡§∞‡•Ä‡§≤‡§ø‡§Ç‡§ó ‡§¨‡§§‡§æ‡§á‡§è", a:["‡§Æ‡•Å‡§∞‡•ç‡§ó‡•Ä"]},
  {q:"‡§™‡§æ‡§†‡§∂‡§æ‡§≤‡§æ ‡§ï‡§æ ‡§™‡•Å‡§≤‡•ç‡§≤‡§ø‡§Ç‡§ó ‡§¨‡§§‡§æ‡§á‡§è", a:["‡§µ‡§ø‡§¶‡•ç‡§Ø‡§æ‡§≤‡§Ø"]},
  {q:"‡§ó‡§æ‡§Ø‡§ï ‡§ï‡§æ ‡§∏‡•ç‡§§‡•ç‡§∞‡•Ä‡§≤‡§ø‡§Ç‡§ó ‡§¨‡§§‡§æ‡§á‡§è", a:["‡§ó‡§æ‡§Ø‡§ø‡§ï‡§æ"]},
  {q:"‡§ï‡§µ‡§ø ‡§ï‡§æ ‡§∏‡•ç‡§§‡•ç‡§∞‡•Ä‡§≤‡§ø‡§Ç‡§ó ‡§¨‡§§‡§æ‡§á‡§è", a:["‡§ï‡§µ‡§Ø‡§ø‡§§‡•ç‡§∞‡•Ä"]},
  {q:"‡§Ö‡§ß‡•ç‡§Ø‡§æ‡§™‡§ï ‡§ï‡§æ ‡§∏‡•ç‡§§‡•ç‡§∞‡•Ä‡§≤‡§ø‡§Ç‡§ó ‡§¨‡§§‡§æ‡§á‡§è", a:["‡§Ö‡§ß‡•ç‡§Ø‡§æ‡§™‡§ø‡§ï‡§æ"]},
  {q:"‡§¨‡§æ‡§≤‡§ï ‡§ï‡§æ ‡§∏‡•ç‡§§‡•ç‡§∞‡•Ä‡§≤‡§ø‡§Ç‡§ó ‡§¨‡§§‡§æ‡§á‡§è", a:["‡§¨‡§æ‡§≤‡§ø‡§ï‡§æ"]},
  {q:"‡§∏‡•á‡§µ‡§ï ‡§ï‡§æ ‡§∏‡•ç‡§§‡•ç‡§∞‡•Ä‡§≤‡§ø‡§Ç‡§ó ‡§¨‡§§‡§æ‡§á‡§è", a:["‡§∏‡•á‡§µ‡§ø‡§ï‡§æ"]},
  {q:"‡§®‡§∞‡•ç‡§§‡§ï ‡§ï‡§æ ‡§∏‡•ç‡§§‡•ç‡§∞‡•Ä‡§≤‡§ø‡§Ç‡§ó ‡§¨‡§§‡§æ‡§á‡§è", a:["‡§®‡§∞‡•ç‡§§‡§ï‡•Ä"]},

  // ‡§µ‡§ö‡§® (15)
  {q:"‡§≤‡§°‡§º‡§ï‡§æ ‡§ï‡§æ ‡§¨‡§π‡•Å‡§µ‡§ö‡§® ‡§¨‡§§‡§æ‡§á‡§è", a:["‡§≤‡§°‡§º‡§ï‡•á"]},
  {q:"‡§≤‡§°‡§º‡§ï‡•Ä ‡§ï‡§æ ‡§¨‡§π‡•Å‡§µ‡§ö‡§® ‡§¨‡§§‡§æ‡§á‡§è", a:["‡§≤‡§°‡§º‡§ï‡§ø‡§Ø‡§æ‡§Å","‡§≤‡§°‡§ï‡§ø‡§Ø‡§æ‡§Ç"]},
  {q:"‡§ó‡§æ‡§Ø ‡§ï‡§æ ‡§¨‡§π‡•Å‡§µ‡§ö‡§® ‡§¨‡§§‡§æ‡§á‡§è", a:["‡§ó‡§æ‡§Ø‡•á‡§Ç","‡§ó‡§æ‡§è‡§Ç"]},
  {q:"‡§ï‡§ø‡§§‡§æ‡§¨ ‡§ï‡§æ ‡§¨‡§π‡•Å‡§µ‡§ö‡§® ‡§¨‡§§‡§æ‡§á‡§è", a:["‡§ï‡§ø‡§§‡§æ‡§¨‡•á‡§Ç","‡§ï‡§ø‡§§‡§æ‡§¨‡•á"]},
  {q:"‡§™‡§ï‡•ç‡§∑‡•Ä ‡§ï‡§æ ‡§¨‡§π‡•Å‡§µ‡§ö‡§® ‡§¨‡§§‡§æ‡§á‡§è", a:["‡§™‡§ï‡•ç‡§∑‡•Ä"]},
  {q:"‡§™‡§§‡•ç‡§§‡§æ ‡§ï‡§æ ‡§¨‡§π‡•Å‡§µ‡§ö‡§® ‡§¨‡§§‡§æ‡§á‡§è", a:["‡§™‡§§‡•ç‡§§‡•á"]},
  {q:"‡§™‡•á‡§°‡§º ‡§ï‡§æ ‡§¨‡§π‡•Å‡§µ‡§ö‡§® ‡§¨‡§§‡§æ‡§á‡§è", a:["‡§™‡•á‡§°‡§º"]},
  {q:"‡§´‡•Ç‡§≤ ‡§ï‡§æ ‡§¨‡§π‡•Å‡§µ‡§ö‡§® ‡§¨‡§§‡§æ‡§á‡§è", a:["‡§´‡•Ç‡§≤"]},
  {q:"‡§Ü‡§Æ ‡§ï‡§æ ‡§¨‡§π‡•Å‡§µ‡§ö‡§® ‡§¨‡§§‡§æ‡§á‡§è", a:["‡§Ü‡§Æ"]},
  {q:"‡§Æ‡§æ‡§≤‡§æ ‡§ï‡§æ ‡§¨‡§π‡•Å‡§µ‡§ö‡§® ‡§¨‡§§‡§æ‡§á‡§è", a:["‡§Æ‡§æ‡§≤‡§æ‡§è‡§Å","‡§Æ‡§æ‡§≤‡§æ‡§Ø‡•á","‡§Æ‡§æ‡§≤‡§æ‡§è‡§Ç"]},
  {q:"‡§¨‡§æ‡§≤‡§ï ‡§ï‡§æ ‡§¨‡§π‡•Å‡§µ‡§ö‡§® ‡§¨‡§§‡§æ‡§á‡§è", a:["‡§¨‡§æ‡§≤‡§ï"]},
  {q:"‡§ö‡§ø‡§§‡•ç‡§∞ ‡§ï‡§æ ‡§¨‡§π‡•Å‡§µ‡§ö‡§® ‡§¨‡§§‡§æ‡§á‡§è", a:["‡§ö‡§ø‡§§‡•ç‡§∞"]},
  {q:"‡§∏‡•á‡§¨ ‡§ï‡§æ ‡§¨‡§π‡•Å‡§µ‡§ö‡§® ‡§¨‡§§‡§æ‡§á‡§è", a:["‡§∏‡•á‡§¨"]},
  {q:"‡§π‡§æ‡§•‡•Ä ‡§ï‡§æ ‡§¨‡§π‡•Å‡§µ‡§ö‡§® ‡§¨‡§§‡§æ‡§á‡§è", a:["‡§π‡§æ‡§•‡•Ä"]},
  {q:"‡§™‡§ï‡•ç‡§∑‡•Ä ‡§ï‡§æ ‡§¨‡§π‡•Å‡§µ‡§ö‡§® ‡§¨‡§§‡§æ‡§á‡§è", a:["‡§™‡§ï‡•ç‡§∑‡•Ä"]}
];

let shuffled = [];
let current = 0;
let score = 0;
let recognizing = false;
const questionBox = document.getElementById("questionBox");
const answerInput = document.getElementById("answerInput");
const startBtn = document.getElementById("startBtn");
const speakBtn = document.getElementById("speakBtn");
const passBtn = document.getElementById("passBtn");
const repeatBtn = document.getElementById("repeatBtn");
const resultDiv = document.getElementById("result");
const scoreDiv = document.getElementById("score");

function speakHindi(text){
  const msg = new SpeechSynthesisUtterance(text);
  msg.lang = "hi-IN";
  msg.pitch = 1;
  msg.rate = 0.9;
  speechSynthesis.speak(msg);
}

function normalize(text){
  return text.replace(/[‡§Å‡§Ç‡•Ö]/g,"‡§Ç")
             .replace(/[^‡§Ä-‡•øa-zA-Z]/g,"")
             .trim();
}

function similarity(a,b){
  a = normalize(a); b = normalize(b);
  const min = Math.min(a.length,b.length);
  let same=0;
  for(let i=0;i<min;i++) if(a[i]===b[i]) same++;
  return same / Math.max(a.length,b.length);
}

function checkAnswer(user){
  const corrects = questions[shuffled[current]].a;
  for(let ans of corrects){
    if(similarity(ans,user) > 0.7) return true;
  }
  return false;
}

function askQuestion(){
  const q = questions[shuffled[current]].q;
  questionBox.textContent = q;
  speakHindi(q);
}

function startQuiz(){
  shuffled = [...Array(questions.length).keys()].sort(()=>Math.random()-0.5);
  current = 0; score = 0;
  startBtn.disabled = true;
  answerInput.disabled = false;
  speakBtn.disabled = false;
  passBtn.disabled = false;
  repeatBtn.disabled = false;
  askQuestion();
}

startBtn.onclick = startQuiz;
repeatBtn.onclick = ()=> speakHindi(questions[shuffled[current]].q);
passBtn.onclick = ()=>{
  current++;
  if(current < questions.length){ askQuestion(); resultDiv.textContent=""; }
  else endQuiz();
};

answerInput.addEventListener("keyup", e=>{
  if(e.key==="Enter") handleAnswer(answerInput.value);
});

function handleAnswer(userAns){
  if(checkAnswer(userAns)){
    resultDiv.textContent = "‚úÖ ‡§∏‡§π‡•Ä ‡§â‡§§‡•ç‡§§‡§∞!";
    speakHindi("‡§∏‡§π‡•Ä ‡§â‡§§‡•ç‡§§‡§∞");
    score++;
    current++;
    if(current < questions.length){
      setTimeout(()=>{ askQuestion(); resultDiv.textContent=""; },2000);
    } else endQuiz();
  } else {
    resultDiv.textContent = "‚ùå ‡§ó‡§≤‡§§ ‡§â‡§§‡•ç‡§§‡§∞";
    speakHindi("‡§ó‡§≤‡§§ ‡§â‡§§‡•ç‡§§‡§∞");
  }
  answerInput.value="";
}

if('webkitSpeechRecognition' in window){
  const recog = new webkitSpeechRecognition();
  recog.lang = "hi-IN";
  recog.onresult = function(event){
    const said = event.results[0][0].transcript;
    answerInput.value = said;
    handleAnswer(said);
  };
  recog.onerror = ()=>{ resultDiv.textContent="üé§ ‡§§‡•ç‡§∞‡•Å‡§ü‡§ø ‚Äî ‡§ï‡•É‡§™‡§Ø‡§æ ‡§™‡•Å‡§®‡§É ‡§™‡•ç‡§∞‡§Ø‡§æ‡§∏ ‡§ï‡§∞‡•á‡§Ç"; };
  speakBtn.onclick = ()=>{
    if(recognizing){ recog.stop(); recognizing=false; speakBtn.textContent="üé§ ‡§¨‡•ã‡§≤‡•á‡§Ç"; }
    else { recog.start(); recognizing=true; speakBtn.textContent="‚èπ ‡§∞‡•ã‡§ï‡•á‡§Ç"; }
  };
}

function endQuiz(){
  questionBox.textContent = "üéâ ‡§ï‡•ç‡§µ‡§ø‡§ú‡§º ‡§∏‡§Æ‡§æ‡§™‡•ç‡§§!";
  resultDiv.textContent = "";
  scoreDiv.textContent = `‡§Ü‡§™‡§ï‡§æ ‡§∏‡•ç‡§ï‡•ã‡§∞: ${score} / ${questions.length}`;
  speakHindi(`‡§ï‡•ç‡§µ‡§ø‡§ú‡§º ‡§∏‡§Æ‡§æ‡§™‡•ç‡§§‡•§ ‡§Ü‡§™‡§ï‡§æ ‡§∏‡•ç‡§ï‡•ã‡§∞ ${score} ‡§Æ‡•á‡§Ç ‡§∏‡•á ${questions.length} ‡§π‡•à`);
  startBtn.disabled = false;
  answerInput.disabled = true;
  speakBtn.disabled = true;
  passBtn.disabled = true;
  repeatBtn.disabled = true;
}
</script>
</body>
</html>
